{"version":3,"file":"logger.js","sources":["../../src/common/logger.ts"],"sourcesContent":["export const LOG_LEVEL_DEBUG = -1;\nexport const LOG_LEVEL_VERBOSE = 1;\nexport const LOG_LEVEL_INFO = 10;\nexport const LOG_LEVEL_NOTICE = 100;\nexport const LOG_LEVEL_URGENT = 1000;\n\nexport type LOG_LEVEL = typeof LOG_LEVEL_DEBUG | typeof LOG_LEVEL_VERBOSE | typeof LOG_LEVEL_INFO | typeof LOG_LEVEL_NOTICE | typeof LOG_LEVEL_URGENT;\n\nexport const LEVEL_DEBUG = LOG_LEVEL_DEBUG;\nexport const LEVEL_INFO = LOG_LEVEL_INFO;\nexport const LEVEL_NOTICE = LOG_LEVEL_NOTICE;\nexport const LEVEL_URGENT = LOG_LEVEL_URGENT;\nexport const LEVEL_VERBOSE = LOG_LEVEL_VERBOSE;\n\nexport type LoggerFunction = typeof defaultLogger;\n\nexport const defaultLoggerEnv = {\n    minLogLevel: LOG_LEVEL_INFO\n}\nconst defaultLogger = function defaultLogger(message: any, level: LOG_LEVEL = LEVEL_INFO, key?: string) {\n    if (level < defaultLoggerEnv.minLogLevel) {\n        return;\n    }\n    const now = new Date();\n    const timestamp = now.toLocaleString();\n    const messageContent = typeof message == \"string\" ? message : message instanceof Error ? `${message.name}:${message.message}` : JSON.stringify(message, null, 2);\n    if (message instanceof Error) {\n        // debugger;\n        console.dir(message.stack);\n    }\n    const newMessage = `${timestamp}\\t${level}\\t${messageContent}`;\n    console.log(newMessage);\n};\n\nlet _logger: LoggerFunction = defaultLogger;\n\n/**\n * Sets the global log function.\n * \n * @param logger - The logger function to set as the global log function.\n */\nexport function setGlobalLogFunction(logger: LoggerFunction) {\n    _logger = logger;\n}\n/**\n * Logs a message with an optional log level and key.\n * \n * @param message - The message to be logged.\n * @param level - The log level (optional).\n * @param key - The key (optional).\n */\nexport function Logger(message: any, level?: LOG_LEVEL, key?: string): void {\n    _logger(message, level, key);\n}\n"],"names":[],"mappings":"AAAa,MAAA,eAAe,GAAG,CAAC,EAAE;AAC3B,MAAM,iBAAiB,GAAG,EAAE;AAC5B,MAAM,cAAc,GAAG,GAAG;AAC1B,MAAM,gBAAgB,GAAG,IAAI;AAC7B,MAAM,gBAAgB,GAAG,KAAK;AAI9B,MAAM,WAAW,GAAG,gBAAgB;AACpC,MAAM,UAAU,GAAG,eAAe;AAClC,MAAM,YAAY,GAAG,iBAAiB;AACtC,MAAM,YAAY,GAAG,iBAAiB;AACtC,MAAM,aAAa,GAAG,kBAAkB;AAIlC,MAAA,gBAAgB,GAAG;AAC5B,IAAA,WAAW,EAAE,cAAc;EAC9B;AACD,MAAM,aAAa,GAAG,SAAS,aAAa,CAAC,OAAY,EAAE,KAAA,GAAmB,UAAU,EAAE,GAAY,EAAA;AAClG,IAAA,IAAI,KAAK,GAAG,gBAAgB,CAAC,WAAW,EAAE;QACtC,OAAO;KACV;AACD,IAAA,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;AACvB,IAAA,MAAM,SAAS,GAAG,GAAG,CAAC,cAAc,EAAE,CAAC;AACvC,IAAA,MAAM,cAAc,GAAG,OAAO,OAAO,IAAI,QAAQ,GAAG,OAAO,GAAG,OAAO,YAAY,KAAK,GAAG,CAAA,EAAG,OAAO,CAAC,IAAI,CAAI,CAAA,EAAA,OAAO,CAAC,OAAO,CAAA,CAAE,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACjK,IAAA,IAAI,OAAO,YAAY,KAAK,EAAE;;AAE1B,QAAA,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;KAC9B;IACD,MAAM,UAAU,GAAG,CAAG,EAAA,SAAS,KAAK,KAAK,CAAA,EAAA,EAAK,cAAc,CAAA,CAAE,CAAC;AAC/D,IAAA,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC5B,CAAC,CAAC;AAEF,IAAI,OAAO,GAAmB,aAAa,CAAC;AAE5C;;;;AAIG;AACG,SAAU,oBAAoB,CAAC,MAAsB,EAAA;IACvD,OAAO,GAAG,MAAM,CAAC;AACrB,CAAC;AACD;;;;;;AAMG;SACa,MAAM,CAAC,OAAY,EAAE,KAAiB,EAAE,GAAY,EAAA;AAChE,IAAA,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;AACjC;;;;"}